{"ast":null,"code":"import _slicedToArray from\"/Users/admin/Desktop/Projects/FotoplusProyectr/Fotoplus/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Fragment,useState,useEffect}from\"react\";import Swiper from\"react-id-swiper\";import{getProductCartQuantity}from\"../../helpers/product\";import{Modal}from\"react-bootstrap\";import Rating from\"./sub-components/ProductRating\";import{connect}from\"react-redux\";function ProductModal(props){var product=props.product;var currency=props.currency;var discountedprice=props.discountedprice;var finalproductprice=props.finalproductprice;var finaldiscountedprice=props.finaldiscountedprice;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),gallerySwiper=_useState2[0],getGallerySwiper=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),thumbnailSwiper=_useState4[0],getThumbnailSwiper=_useState4[1];var _useState5=useState(product.variation?product.variation[0].color:\"\"),_useState6=_slicedToArray(_useState5,2),selectedProductColor=_useState6[0],setSelectedProductColor=_useState6[1];var _useState7=useState(product.variation?product.variation[0].size[0].name:\"\"),_useState8=_slicedToArray(_useState7,2),selectedProductSize=_useState8[0],setSelectedProductSize=_useState8[1];var _useState9=useState(product.variation?product.variation[0].size[0].stock:product.stock),_useState10=_slicedToArray(_useState9,2),productStock=_useState10[0],setProductStock=_useState10[1];var _useState11=useState(1),_useState12=_slicedToArray(_useState11,2),quantityCount=_useState12[0],setQuantityCount=_useState12[1];var wishlistItem=props.wishlistitem;var compareItem=props.compareitem;var addToCart=props.addtocart;var addToWishlist=props.addtowishlist;var addToCompare=props.addtocompare;var addToast=props.addtoast;var cartItems=props.cartitems;var productCartQty=getProductCartQuantity(cartItems,product,selectedProductColor,selectedProductSize);useEffect(function(){if(gallerySwiper!==null&&gallerySwiper.controller&&thumbnailSwiper!==null&&thumbnailSwiper.controller){gallerySwiper.controller.control=thumbnailSwiper;thumbnailSwiper.controller.control=gallerySwiper;}},[gallerySwiper,thumbnailSwiper]);var gallerySwiperParams={getSwiper:getGallerySwiper,spaceBetween:10,loopedSlides:4,loop:true};var thumbnailSwiperParams={getSwiper:getThumbnailSwiper,spaceBetween:10,slidesPerView:4,loopedSlides:4,touchRatio:0.2,freeMode:true,loop:true,slideToClickedSlide:true,navigation:{nextEl:\".swiper-button-next\",prevEl:\".swiper-button-prev\"},renderPrevButton:function renderPrevButton(){return/*#__PURE__*/React.createElement(\"button\",{className:\"swiper-button-prev ht-swiper-button-nav\"},/*#__PURE__*/React.createElement(\"i\",{className:\"pe-7s-angle-left\"}));},renderNextButton:function renderNextButton(){return/*#__PURE__*/React.createElement(\"button\",{className:\"swiper-button-next ht-swiper-button-nav\"},/*#__PURE__*/React.createElement(\"i\",{className:\"pe-7s-angle-right\"}));}};return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(Modal,{show:props.show,onHide:props.onHide,className:\"product-quickview-modal-wrapper\"},/*#__PURE__*/React.createElement(Modal.Header,{closeButton:true}),/*#__PURE__*/React.createElement(\"div\",{className:\"modal-body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-5 col-sm-12 col-xs-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"product-large-image-wrapper\"},/*#__PURE__*/React.createElement(Swiper,gallerySwiperParams,product.image&&product.image.map(function(single,key){return/*#__PURE__*/React.createElement(\"div\",{key:key},/*#__PURE__*/React.createElement(\"div\",{className:\"single-image\"},/*#__PURE__*/React.createElement(\"img\",{src:process.env.PUBLIC_URL+single,className:\"img-fluid\",alt:\"\"})));}))),/*#__PURE__*/React.createElement(\"div\",{className:\"product-small-image-wrapper mt-15\"},/*#__PURE__*/React.createElement(Swiper,thumbnailSwiperParams,product.image&&product.image.map(function(single,key){return/*#__PURE__*/React.createElement(\"div\",{key:key},/*#__PURE__*/React.createElement(\"div\",{className:\"single-image\"},/*#__PURE__*/React.createElement(\"img\",{src:process.env.PUBLIC_URL+single,className:\"img-fluid\",alt:\"\"})));})))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-7 col-sm-12 col-xs-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"product-details-content quickview-content\"},/*#__PURE__*/React.createElement(\"h2\",null,product.name),/*#__PURE__*/React.createElement(\"div\",{className:\"product-details-price\"},discountedprice!==null?/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"span\",null,currency.currencySymbol+finaldiscountedprice),\" \",/*#__PURE__*/React.createElement(\"span\",{className:\"old\"},currency.currencySymbol+finalproductprice)):/*#__PURE__*/React.createElement(\"span\",null,currency.currencySymbol+finalproductprice,\" \")),product.rating&&product.rating>0?/*#__PURE__*/React.createElement(\"div\",{className:\"pro-details-rating-wrap\"},/*#__PURE__*/React.createElement(\"div\",{className:\"pro-details-rating\"},/*#__PURE__*/React.createElement(Rating,{ratingValue:product.rating}))):\"\",/*#__PURE__*/React.createElement(\"div\",{className:\"pro-details-list\"},/*#__PURE__*/React.createElement(\"p\",null,product.shortDescription)),product.variation?/*#__PURE__*/React.createElement(\"div\",{className:\"pro-details-size-color\"},/*#__PURE__*/React.createElement(\"div\",{className:\"pro-details-color-wrap\"},/*#__PURE__*/React.createElement(\"span\",null,\"Color\"),/*#__PURE__*/React.createElement(\"div\",{className:\"pro-details-color-content\"},product.variation.map(function(single,key){return/*#__PURE__*/React.createElement(\"label\",{className:\"pro-details-color-content--single \".concat(single.color),key:key},/*#__PURE__*/React.createElement(\"input\",{type:\"radio\",value:single.color,name:\"product-color\",checked:single.color===selectedProductColor?\"checked\":\"\",onChange:function onChange(){setSelectedProductColor(single.color);setSelectedProductSize(single.size[0].name);setProductStock(single.size[0].stock);setQuantityCount(1);}}),/*#__PURE__*/React.createElement(\"span\",{className:\"checkmark\"}));}))),/*#__PURE__*/React.createElement(\"div\",{className:\"pro-details-size\"},/*#__PURE__*/React.createElement(\"span\",null,\"Tama\\xF1o\"),/*#__PURE__*/React.createElement(\"div\",{className:\"pro-details-size-content\"},product.variation&&product.variation.map(function(single,key){return single.color===selectedProductColor?/*#__PURE__*/React.createElement(\"select\",{key:key,onChange:function onChange(_ref){var target=_ref.target;setSelectedProductSize(target.value);var Stock=document.querySelector(\"option[value='\".concat(target.value,\"']\")).getAttribute('stock');setProductStock(Stock);setQuantityCount(1);}},single.size.map(function(singleSize,key){return/*#__PURE__*/React.createElement(\"option\",{key:key,value:singleSize.name,stock:singleSize.stock},singleSize.name)// <label\n//   className={`pro-details-size-content--single`}\n//   key={key}\n// >\n//   <input\n//     type=\"radio\"\n//     value={singleSize.name}\n//     checked={\n//       singleSize.name ===\n//       selectedProductSize\n//         ? \"checked\"\n//         : \"\"\n//     }\n//     onChange={() => {\n//       setSelectedProductSize(\n//         singleSize.name\n//       );\n//       setProductStock(singleSize.stock);\n//       setQuantityCount(1);\n//     }}\n//   />\n//   <span className=\"size-name\">\n//     {singleSize.name}\n//   </span>\n// </label>\n;})):\"\";})))):\"\",product.affiliateLink?/*#__PURE__*/React.createElement(\"div\",{className:\"pro-details-quality\"},/*#__PURE__*/React.createElement(\"div\",{className:\"pro-details-cart btn-hover\"},/*#__PURE__*/React.createElement(\"a\",{href:product.affiliateLink,rel:\"noopener noreferrer\",target:\"_blank\"},\"Comprar Ahora\"))):/*#__PURE__*/React.createElement(\"div\",{className:\"pro-details-quality\"},/*#__PURE__*/React.createElement(\"div\",{className:\"cart-plus-minus\"},/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return setQuantityCount(quantityCount>1?quantityCount-1:1);},className:\"dec qtybutton\"},\"-\"),/*#__PURE__*/React.createElement(\"input\",{className:\"cart-plus-minus-box\",type:\"text\",value:quantityCount,readOnly:true}),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return setQuantityCount(quantityCount<productStock-productCartQty?quantityCount+1:quantityCount);},className:\"inc qtybutton\"},\"+\")),/*#__PURE__*/React.createElement(\"div\",{className:\"pro-details-cart btn-hover\"},productStock&&productStock>0?/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return addToCart(product,addToast,quantityCount,selectedProductColor,selectedProductSize);},disabled:productCartQty>=productStock},\" \",\"A\\xF1adir al carrito\",\" \"):/*#__PURE__*/React.createElement(\"button\",{disabled:true},\"Agotado\")),/*#__PURE__*/React.createElement(\"div\",{className:\"pro-details-wishlist\"},/*#__PURE__*/React.createElement(\"button\",{className:wishlistItem!==undefined?\"active\":\"\",disabled:wishlistItem!==undefined,title:wishlistItem!==undefined?\"Added to wishlist\":\"Add to wishlist\",onClick:function onClick(){return addToWishlist(product,addToast);}},/*#__PURE__*/React.createElement(\"i\",{className:\"pe-7s-like\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"pro-details-compare\"},/*#__PURE__*/React.createElement(\"button\",{className:compareItem!==undefined?\"active\":\"\",disabled:compareItem!==undefined,title:compareItem!==undefined?\"Added to compare\":\"Add to compare\",onClick:function onClick(){return addToCompare(product,addToast);}},/*#__PURE__*/React.createElement(\"i\",{className:\"pe-7s-shuffle\"}))))))))));}var mapStateToProps=function mapStateToProps(state){return{cartitems:state.cartData};};export default connect(mapStateToProps)(ProductModal);","map":{"version":3,"sources":["/Users/admin/Desktop/Projects/FotoplusProyectr/Fotoplus/src/components/product/ProductModal.js"],"names":["React","Fragment","useState","useEffect","Swiper","getProductCartQuantity","Modal","Rating","connect","ProductModal","props","product","currency","discountedprice","finalproductprice","finaldiscountedprice","gallerySwiper","getGallerySwiper","thumbnailSwiper","getThumbnailSwiper","variation","color","selectedProductColor","setSelectedProductColor","size","name","selectedProductSize","setSelectedProductSize","stock","productStock","setProductStock","quantityCount","setQuantityCount","wishlistItem","wishlistitem","compareItem","compareitem","addToCart","addtocart","addToWishlist","addtowishlist","addToCompare","addtocompare","addToast","addtoast","cartItems","cartitems","productCartQty","controller","control","gallerySwiperParams","getSwiper","spaceBetween","loopedSlides","loop","thumbnailSwiperParams","slidesPerView","touchRatio","freeMode","slideToClickedSlide","navigation","nextEl","prevEl","renderPrevButton","renderNextButton","show","onHide","image","map","single","key","process","env","PUBLIC_URL","currencySymbol","rating","shortDescription","target","value","Stock","document","querySelector","getAttribute","singleSize","affiliateLink","undefined","mapStateToProps","state","cartData"],"mappings":"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","sourcesContent":["import PropTypes from \"prop-types\";\r\nimport React, { Fragment, useState, useEffect } from \"react\";\r\nimport Swiper from \"react-id-swiper\";\r\nimport { getProductCartQuantity } from \"../../helpers/product\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport Rating from \"./sub-components/ProductRating\";\r\nimport { connect } from \"react-redux\";\r\n\r\nfunction ProductModal(props) {\r\n  const { product } = props;\r\n  const { currency } = props;\r\n  const { discountedprice } = props;\r\n  const { finalproductprice } = props;\r\n  const { finaldiscountedprice } = props;\r\n\r\n  const [gallerySwiper, getGallerySwiper] = useState(null);\r\n  const [thumbnailSwiper, getThumbnailSwiper] = useState(null);\r\n  const [selectedProductColor, setSelectedProductColor] = useState(\r\n    product.variation ? product.variation[0].color : \"\"\r\n  );\r\n  const [selectedProductSize, setSelectedProductSize] = useState(\r\n    product.variation ? product.variation[0].size[0].name : \"\"\r\n  );\r\n  const [productStock, setProductStock] = useState(\r\n    product.variation ? product.variation[0].size[0].stock : product.stock\r\n  );\r\n  const [quantityCount, setQuantityCount] = useState(1);\r\n\r\n  const wishlistItem = props.wishlistitem;\r\n  const compareItem = props.compareitem;\r\n\r\n  const addToCart = props.addtocart;\r\n  const addToWishlist = props.addtowishlist;\r\n  const addToCompare = props.addtocompare;\r\n\r\n  const addToast = props.addtoast;\r\n  const cartItems = props.cartitems;\r\n\r\n  const productCartQty = getProductCartQuantity(\r\n    cartItems,\r\n    product,\r\n    selectedProductColor,\r\n    selectedProductSize\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (\r\n      gallerySwiper !== null &&\r\n      gallerySwiper.controller &&\r\n      thumbnailSwiper !== null &&\r\n      thumbnailSwiper.controller\r\n    ) {\r\n      gallerySwiper.controller.control = thumbnailSwiper;\r\n      thumbnailSwiper.controller.control = gallerySwiper;\r\n    }\r\n  }, [gallerySwiper, thumbnailSwiper]);\r\n\r\n  const gallerySwiperParams = {\r\n    getSwiper: getGallerySwiper,\r\n    spaceBetween: 10,\r\n    loopedSlides: 4,\r\n    loop: true\r\n  };\r\n\r\n  const thumbnailSwiperParams = {\r\n    getSwiper: getThumbnailSwiper,\r\n    spaceBetween: 10,\r\n    slidesPerView: 4,\r\n    loopedSlides: 4,\r\n    touchRatio: 0.2,\r\n    freeMode: true,\r\n    loop: true,\r\n    slideToClickedSlide: true,\r\n    navigation: {\r\n      nextEl: \".swiper-button-next\",\r\n      prevEl: \".swiper-button-prev\"\r\n    },\r\n    renderPrevButton: () => (\r\n      <button className=\"swiper-button-prev ht-swiper-button-nav\">\r\n        <i className=\"pe-7s-angle-left\" />\r\n      </button>\r\n    ),\r\n    renderNextButton: () => (\r\n      <button className=\"swiper-button-next ht-swiper-button-nav\">\r\n        <i className=\"pe-7s-angle-right\" />\r\n      </button>\r\n    )\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <Modal\r\n        show={props.show}\r\n        onHide={props.onHide}\r\n        className=\"product-quickview-modal-wrapper\"\r\n      >\r\n        <Modal.Header closeButton></Modal.Header>\r\n\r\n        <div className=\"modal-body\">\r\n          <div className=\"row\">\r\n            <div className=\"col-md-5 col-sm-12 col-xs-12\">\r\n              <div className=\"product-large-image-wrapper\">\r\n                <Swiper {...gallerySwiperParams}>\r\n                  {product.image &&\r\n                    product.image.map((single, key) => {\r\n                      return (\r\n                        <div key={key}>\r\n                          <div className=\"single-image\">\r\n                            <img\r\n                              src={process.env.PUBLIC_URL + single}\r\n                              className=\"img-fluid\"\r\n                              alt=\"\"\r\n                            />\r\n                          </div>\r\n                        </div>\r\n                      );\r\n                    })}\r\n                </Swiper>\r\n              </div>\r\n              <div className=\"product-small-image-wrapper mt-15\">\r\n                <Swiper {...thumbnailSwiperParams}>\r\n                  {product.image &&\r\n                    product.image.map((single, key) => {\r\n                      return (\r\n                        <div key={key}>\r\n                          <div className=\"single-image\">\r\n                            <img\r\n                              src={process.env.PUBLIC_URL + single}\r\n                              className=\"img-fluid\"\r\n                              alt=\"\"\r\n                            />\r\n                          </div>\r\n                        </div>\r\n                      );\r\n                    })}\r\n                </Swiper>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-md-7 col-sm-12 col-xs-12\">\r\n              <div className=\"product-details-content quickview-content\">\r\n                <h2>{product.name}</h2>\r\n                <div className=\"product-details-price\">\r\n                  {discountedprice !== null ? (\r\n                    <Fragment>\r\n                      <span>\r\n                        {currency.currencySymbol + finaldiscountedprice}\r\n                      </span>{\" \"}\r\n                      <span className=\"old\">\r\n                        {currency.currencySymbol + finalproductprice}\r\n                      </span>\r\n                    </Fragment>\r\n                  ) : (\r\n                    <span>{currency.currencySymbol + finalproductprice} </span>\r\n                  )}\r\n                </div>\r\n                {product.rating && product.rating > 0 ? (\r\n                  <div className=\"pro-details-rating-wrap\">\r\n                    <div className=\"pro-details-rating\">\r\n                      <Rating ratingValue={product.rating} />\r\n                    </div>\r\n                  </div>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n                <div className=\"pro-details-list\">\r\n                  <p>{product.shortDescription}</p>\r\n                </div>\r\n\r\n                {product.variation ? (\r\n                  <div className=\"pro-details-size-color\">\r\n                    <div className=\"pro-details-color-wrap\">\r\n                      <span>Color</span>\r\n                      <div className=\"pro-details-color-content\">\r\n                        {product.variation.map((single, key) => {\r\n                          return (\r\n                            <label\r\n                              className={`pro-details-color-content--single ${single.color}`}\r\n                              key={key}\r\n                            >\r\n                              <input\r\n                                type=\"radio\"\r\n                                value={single.color}\r\n                                name=\"product-color\"\r\n                                checked={\r\n                                  single.color === selectedProductColor\r\n                                    ? \"checked\"\r\n                                    : \"\"\r\n                                }\r\n                                onChange={() => {\r\n                                  setSelectedProductColor(single.color);\r\n                                  setSelectedProductSize(single.size[0].name);\r\n                                  setProductStock(single.size[0].stock);\r\n                                  setQuantityCount(1);\r\n                                }}\r\n                              />\r\n                              <span className=\"checkmark\"></span>\r\n                            </label>\r\n                          );\r\n                        })}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"pro-details-size\">\r\n                      <span>Tamaño</span>\r\n                      <div className=\"pro-details-size-content\">\r\n                        {product.variation &&\r\n                          product.variation.map((single,key) => {\r\n                            return single.color === selectedProductColor\r\n                              ? (<select key={key} onChange={({target})=>{\r\n                                setSelectedProductSize(target.value);\r\n                                let Stock = document.querySelector(`option[value='${target.value}']`).getAttribute('stock');\r\n                                setProductStock(Stock);\r\n                                setQuantityCount(1);\r\n                              }}>\r\n                                {single.size.map((singleSize, key) => {\r\n                                  return (\r\n\t\t\t\t\t\t                <option key={key} value={singleSize.name} stock={singleSize.stock}>{singleSize.name}</option>\r\n\r\n                                    // <label\r\n                                    //   className={`pro-details-size-content--single`}\r\n                                    //   key={key}\r\n                                    // >\r\n                                    //   <input\r\n                                    //     type=\"radio\"\r\n                                    //     value={singleSize.name}\r\n                                    //     checked={\r\n                                    //       singleSize.name ===\r\n                                    //       selectedProductSize\r\n                                    //         ? \"checked\"\r\n                                    //         : \"\"\r\n                                    //     }\r\n                                    //     onChange={() => {\r\n                                    //       setSelectedProductSize(\r\n                                    //         singleSize.name\r\n                                    //       );\r\n                                    //       setProductStock(singleSize.stock);\r\n                                    //       setQuantityCount(1);\r\n                                    //     }}\r\n                                    //   />\r\n                                    //   <span className=\"size-name\">\r\n                                    //     {singleSize.name}\r\n                                    //   </span>\r\n                                    // </label>\r\n                                  );\r\n                                })}\r\n                                </select>)\r\n                              : \"\";\r\n                          })}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n                {product.affiliateLink ? (\r\n                  <div className=\"pro-details-quality\">\r\n                    <div className=\"pro-details-cart btn-hover\">\r\n                      <a\r\n                        href={product.affiliateLink}\r\n                        rel=\"noopener noreferrer\"\r\n                        target=\"_blank\"\r\n                      >\r\n                        Comprar Ahora\r\n                      </a>\r\n                    </div>\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"pro-details-quality\">\r\n                    <div className=\"cart-plus-minus\">\r\n                      <button\r\n                        onClick={() =>\r\n                          setQuantityCount(\r\n                            quantityCount > 1 ? quantityCount - 1 : 1\r\n                          )\r\n                        }\r\n                        className=\"dec qtybutton\"\r\n                      >\r\n                        -\r\n                      </button>\r\n                      <input\r\n                        className=\"cart-plus-minus-box\"\r\n                        type=\"text\"\r\n                        value={quantityCount}\r\n                        readOnly\r\n                      />\r\n                      <button\r\n                        onClick={() =>\r\n                          setQuantityCount(\r\n                            quantityCount < productStock - productCartQty\r\n                              ? quantityCount + 1\r\n                              : quantityCount\r\n                          )\r\n                        }\r\n                        className=\"inc qtybutton\"\r\n                      >\r\n                        +\r\n                      </button>\r\n                    </div>\r\n                    <div className=\"pro-details-cart btn-hover\">\r\n                      {productStock && productStock > 0 ? (\r\n                        <button\r\n                          onClick={() =>\r\n                            addToCart(\r\n                              product,\r\n                              addToast,\r\n                              quantityCount,\r\n                              selectedProductColor,\r\n                              selectedProductSize\r\n                            )\r\n                          }\r\n                          disabled={productCartQty >= productStock}\r\n                        >\r\n                          {\" \"}\r\n                          Añadir al carrito{\" \"}\r\n                        </button>\r\n                      ) : (\r\n                        <button disabled>Agotado</button>\r\n                      )}\r\n                    </div>\r\n                    <div className=\"pro-details-wishlist\">\r\n                      <button\r\n                        className={wishlistItem !== undefined ? \"active\" : \"\"}\r\n                        disabled={wishlistItem !== undefined}\r\n                        title={\r\n                          wishlistItem !== undefined\r\n                            ? \"Added to wishlist\"\r\n                            : \"Add to wishlist\"\r\n                        }\r\n                        onClick={() => addToWishlist(product, addToast)}\r\n                      >\r\n                        <i className=\"pe-7s-like\" />\r\n                      </button>\r\n                    </div>\r\n                    <div className=\"pro-details-compare\">\r\n                      <button\r\n                        className={compareItem !== undefined ? \"active\" : \"\"}\r\n                        disabled={compareItem !== undefined}\r\n                        title={\r\n                          compareItem !== undefined\r\n                            ? \"Added to compare\"\r\n                            : \"Add to compare\"\r\n                        }\r\n                        onClick={() => addToCompare(product, addToast)}\r\n                      >\r\n                        <i className=\"pe-7s-shuffle\" />\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Modal>\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nProductModal.propTypes = {\r\n  addtoast: PropTypes.func,\r\n  addtocart: PropTypes.func,\r\n  addtocompare: PropTypes.func,\r\n  addtowishlist: PropTypes.func,\r\n  cartitems: PropTypes.array,\r\n  compareitem: PropTypes.object,\r\n  currency: PropTypes.object,\r\n  discountedprice: PropTypes.number,\r\n  finaldiscountedprice: PropTypes.number,\r\n  finalproductprice: PropTypes.number,\r\n  onHide: PropTypes.func,\r\n  product: PropTypes.object,\r\n  show: PropTypes.bool,\r\n  wishlistitem: PropTypes.object\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    cartitems: state.cartData\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(ProductModal);\r\n"]},"metadata":{},"sourceType":"module"}