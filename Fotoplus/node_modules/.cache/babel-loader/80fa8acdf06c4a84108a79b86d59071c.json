{"ast":null,"code":"import _slicedToArray from\"/Users/admin/Desktop/Projects/FotoplusProyectr/Fotoplus/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Fragment,useState}from\"react\";import{Link}from\"react-router-dom\";import{useToasts}from\"react-toast-notifications\";import MetaTags from\"react-meta-tags\";import{BreadcrumbsItem}from\"react-breadcrumbs-dynamic\";import{connect}from\"react-redux\";import{getDiscountPrice}from\"../../helpers/product\";import{addToCart as _addToCart,decreaseQuantity as _decreaseQuantity,deleteFromCart as _deleteFromCart,cartItemStock,deleteAllFromCart as _deleteAllFromCart}from\"../../redux/actions/cartActions\";import LayoutOne from\"../../layouts/LayoutOne\";import Breadcrumb from\"../../wrappers/breadcrumb/Breadcrumb\";var Cart=function Cart(_ref){var location=_ref.location,cartItems=_ref.cartItems,currency=_ref.currency,decreaseQuantity=_ref.decreaseQuantity,addToCart=_ref.addToCart,deleteFromCart=_ref.deleteFromCart,deleteAllFromCart=_ref.deleteAllFromCart;var _useState=useState(1),_useState2=_slicedToArray(_useState,1),quantityCount=_useState2[0];var _useToasts=useToasts(),addToast=_useToasts.addToast;var pathname=location.pathname;var cartTotalPrice=0;return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(MetaTags,null,/*#__PURE__*/React.createElement(\"title\",null,\"Fotoplus | Carrito\"),/*#__PURE__*/React.createElement(\"meta\",{name:\"description\",content:\"Fotoplus - La vida es para imprimirla.\"})),/*#__PURE__*/React.createElement(BreadcrumbsItem,{to:process.env.PUBLIC_URL+\"/\"},\"Inicio\"),/*#__PURE__*/React.createElement(BreadcrumbsItem,{to:process.env.PUBLIC_URL+pathname},\"Carrito\"),/*#__PURE__*/React.createElement(LayoutOne,{headerTop:\"visible\"},/*#__PURE__*/React.createElement(Breadcrumb,null),/*#__PURE__*/React.createElement(\"div\",{className:\"cart-main-area pt-90 pb-100\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},cartItems&&cartItems.length>=1?/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"h3\",{className:\"cart-page-title\"},\"Tus items\"),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"table-content table-responsive cart-table-content\"},/*#__PURE__*/React.createElement(\"table\",null,/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Imagen\"),/*#__PURE__*/React.createElement(\"th\",null,\"Nombre del producto\"),/*#__PURE__*/React.createElement(\"th\",null,\"Precio unitario\"),/*#__PURE__*/React.createElement(\"th\",null,\"Cantidad\"),/*#__PURE__*/React.createElement(\"th\",null,\"Subtotal\")),/*#__PURE__*/React.createElement(\"th\",null,\"Acci\\xF3n\")),/*#__PURE__*/React.createElement(\"tbody\",null,cartItems.map(function(cartItem,key){var discountedPrice=getDiscountPrice(cartItem.price,cartItem.discount);var finalProductPrice=(cartItem.price*currency.currencyRate).toFixed(2);var finalDiscountedPrice=(discountedPrice*currency.currencyRate).toFixed(2);discountedPrice!=null?cartTotalPrice+=finalDiscountedPrice*cartItem.quantity:cartTotalPrice+=finalProductPrice*cartItem.quantity;return/*#__PURE__*/React.createElement(\"tr\",{key:key},/*#__PURE__*/React.createElement(\"td\",{className:\"product-thumbnail\"},/*#__PURE__*/React.createElement(Link,{to:process.env.PUBLIC_URL+\"/product/\"+cartItem.id},/*#__PURE__*/React.createElement(\"img\",{className:\"img-fluid\",src:process.env.PUBLIC_URL+cartItem.image[0],alt:\"\"}))),/*#__PURE__*/React.createElement(\"td\",{className:\"product-name\"},/*#__PURE__*/React.createElement(Link,{to:process.env.PUBLIC_URL+\"/product/\"+cartItem.id},cartItem.name),cartItem.selectedProductColor&&cartItem.selectedProductSize?/*#__PURE__*/React.createElement(\"div\",{className:\"cart-item-variation\"},/*#__PURE__*/React.createElement(\"span\",null,\"Color: \",cartItem.selectedProductColor),/*#__PURE__*/React.createElement(\"span\",null,\"Size: \",cartItem.selectedProductSize)):\"\"),/*#__PURE__*/React.createElement(\"td\",{className:\"product-price-cart\"},discountedPrice!==null?/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"span\",{className:\"amount old\"},currency.currencySymbol+finalProductPrice),/*#__PURE__*/React.createElement(\"span\",{className:\"amount\"},currency.currencySymbol+finalDiscountedPrice)):/*#__PURE__*/React.createElement(\"span\",{className:\"amount\"},currency.currencySymbol+finalProductPrice)),/*#__PURE__*/React.createElement(\"td\",{className:\"product-quantity\"},/*#__PURE__*/React.createElement(\"div\",{className:\"cart-plus-minus\"},/*#__PURE__*/React.createElement(\"button\",{className:\"dec qtybutton\",onClick:function onClick(){return decreaseQuantity(cartItem,addToast);}},\"-\"),/*#__PURE__*/React.createElement(\"input\",{className:\"cart-plus-minus-box\",type:\"text\",value:cartItem.quantity,readOnly:true}),/*#__PURE__*/React.createElement(\"button\",{className:\"inc qtybutton\",onClick:function onClick(){return addToCart(cartItem,addToast,quantityCount);},disabled:cartItem!==undefined&&cartItem.quantity&&cartItem.quantity>=cartItemStock(cartItem,cartItem.selectedProductColor,cartItem.selectedProductSize)},\"+\"))),/*#__PURE__*/React.createElement(\"td\",{className:\"product-subtotal\"},discountedPrice!==null?currency.currencySymbol+(finalDiscountedPrice*cartItem.quantity).toFixed(2):currency.currencySymbol+(finalProductPrice*cartItem.quantity).toFixed(2)),/*#__PURE__*/React.createElement(\"td\",{className:\"product-remove\"},/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return deleteFromCart(cartItem,addToast);}},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-times\"}))));})))))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"cart-shiping-update-wrapper\"},/*#__PURE__*/React.createElement(\"div\",{className:\"cart-shiping-update\"},/*#__PURE__*/React.createElement(Link,{to:process.env.PUBLIC_URL+\"/shop\"},\"Continuar Comprando\")),/*#__PURE__*/React.createElement(\"div\",{className:\"cart-clear\"},/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return deleteAllFromCart(addToast);}},\"Limpiar Carrito\"))))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-4 col-md-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"cart-tax\"},/*#__PURE__*/React.createElement(\"div\",{className:\"title-wrap\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"cart-bottom-title section-bg-gray\"},\"Env\\xEDo e impuesto estimado\")),/*#__PURE__*/React.createElement(\"div\",{className:\"tax-wrapper\"},/*#__PURE__*/React.createElement(\"p\",null,\"Ingrese su destino para obtener un precio estimado de env\\xEDo.\"),/*#__PURE__*/React.createElement(\"div\",{className:\"tax-select-wrapper\"},/*#__PURE__*/React.createElement(\"div\",{className:\"tax-select\"},/*#__PURE__*/React.createElement(\"label\",null,\"* Pais\"),/*#__PURE__*/React.createElement(\"select\",{className:\"email s-email s-wid\"},/*#__PURE__*/React.createElement(\"option\",null,\"Per\\xFA\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"tax-select\"},/*#__PURE__*/React.createElement(\"label\",null,\"* Ciudad\"),/*#__PURE__*/React.createElement(\"select\",{className:\"email s-email s-wid\"},/*#__PURE__*/React.createElement(\"option\",null,\"Lima\"),/*#__PURE__*/React.createElement(\"option\",null,\"Ica\"),/*#__PURE__*/React.createElement(\"option\",null,\"Trujillo\"),/*#__PURE__*/React.createElement(\"option\",null,\"Arequipa\"),/*#__PURE__*/React.createElement(\"option\",null,\"Cusco\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"tax-select\"},/*#__PURE__*/React.createElement(\"label\",null,\"Codigo Postal\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\"})),/*#__PURE__*/React.createElement(\"button\",{className:\"cart-btn-2\",type:\"submit\"},\"Obten un estimado\"))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-4 col-md-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"discount-code-wrapper\"},/*#__PURE__*/React.createElement(\"div\",{className:\"title-wrap\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"cart-bottom-title section-bg-gray\"},\"Usar codigo de cupon\")),/*#__PURE__*/React.createElement(\"div\",{className:\"discount-code\"},/*#__PURE__*/React.createElement(\"p\",null,\"Ingresa tu cupon si tienes uno.\"),/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(\"input\",{type:\"text\",required:true,name:\"name\"}),/*#__PURE__*/React.createElement(\"button\",{className:\"cart-btn-2\",type:\"submit\"},\"Aplicar Cupon\"))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-4 col-md-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"grand-totall\"},/*#__PURE__*/React.createElement(\"div\",{className:\"title-wrap\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"cart-bottom-title section-bg-gary-cart\"},\"Total del carrito\")),/*#__PURE__*/React.createElement(\"h5\",null,\"Productos totales\",\" \",/*#__PURE__*/React.createElement(\"span\",null,currency.currencySymbol+cartTotalPrice.toFixed(2))),/*#__PURE__*/React.createElement(\"h4\",{className:\"grand-totall-title\"},\"Total\",\" \",/*#__PURE__*/React.createElement(\"span\",null,currency.currencySymbol+cartTotalPrice.toFixed(2))),/*#__PURE__*/React.createElement(Link,{to:process.env.PUBLIC_URL+\"/checkout\"},\"Proceder con compra\"))))):/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"item-empty-area text-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"item-empty-area__icon mb-30\"},/*#__PURE__*/React.createElement(\"i\",{className:\"pe-7s-cart\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"item-empty-area__text\"},\"No tienes items en el carrito \",/*#__PURE__*/React.createElement(\"br\",null),\" \",/*#__PURE__*/React.createElement(Link,{to:process.env.PUBLIC_URL+\"/shop\"},\"Compra Ahora\")))))))));};var mapStateToProps=function mapStateToProps(state){return{cartItems:state.cartData,currency:state.currencyData};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{addToCart:function addToCart(item,addToast,quantityCount){dispatch(_addToCart(item,addToast,quantityCount));},decreaseQuantity:function decreaseQuantity(item,addToast){dispatch(_decreaseQuantity(item,addToast));},deleteFromCart:function deleteFromCart(item,addToast){dispatch(_deleteFromCart(item,addToast));},deleteAllFromCart:function deleteAllFromCart(addToast){dispatch(_deleteAllFromCart(addToast));}};};export default connect(mapStateToProps,mapDispatchToProps)(Cart);","map":{"version":3,"sources":["/Users/admin/Desktop/Projects/FotoplusProyectr/Fotoplus/src/pages/other/Cart.js"],"names":["React","Fragment","useState","Link","useToasts","MetaTags","BreadcrumbsItem","connect","getDiscountPrice","addToCart","decreaseQuantity","deleteFromCart","cartItemStock","deleteAllFromCart","LayoutOne","Breadcrumb","Cart","location","cartItems","currency","quantityCount","addToast","pathname","cartTotalPrice","process","env","PUBLIC_URL","length","map","cartItem","key","discountedPrice","price","discount","finalProductPrice","currencyRate","toFixed","finalDiscountedPrice","quantity","id","image","name","selectedProductColor","selectedProductSize","currencySymbol","undefined","mapStateToProps","state","cartData","currencyData","mapDispatchToProps","dispatch","item"],"mappings":"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","sourcesContent":["import PropTypes from \"prop-types\";\r\nimport React, { Fragment, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useToasts } from \"react-toast-notifications\";\r\nimport MetaTags from \"react-meta-tags\";\r\nimport { BreadcrumbsItem } from \"react-breadcrumbs-dynamic\";\r\nimport { connect } from \"react-redux\";\r\nimport { getDiscountPrice } from \"../../helpers/product\";\r\nimport {\r\n  addToCart,\r\n  decreaseQuantity,\r\n  deleteFromCart,\r\n  cartItemStock,\r\n  deleteAllFromCart\r\n} from \"../../redux/actions/cartActions\";\r\nimport LayoutOne from \"../../layouts/LayoutOne\";\r\nimport Breadcrumb from \"../../wrappers/breadcrumb/Breadcrumb\";\r\n\r\nconst Cart = ({\r\n  location,\r\n  cartItems,\r\n  currency,\r\n  decreaseQuantity,\r\n  addToCart,\r\n  deleteFromCart,\r\n  deleteAllFromCart\r\n}) => {\r\n  const [quantityCount] = useState(1);\r\n  const { addToast } = useToasts();\r\n  const { pathname } = location;\r\n  let cartTotalPrice = 0;\r\n\r\n  return (\r\n    <Fragment>\r\n      <MetaTags>\r\n        <title>Fotoplus | Carrito</title>\r\n        <meta\r\n          name=\"description\"\r\n          content=\"Fotoplus - La vida es para imprimirla.\"\r\n        />\r\n      </MetaTags>\r\n\r\n      <BreadcrumbsItem to={process.env.PUBLIC_URL + \"/\"}>Inicio</BreadcrumbsItem>\r\n      <BreadcrumbsItem to={process.env.PUBLIC_URL + pathname}>\r\n        Carrito\r\n      </BreadcrumbsItem>\r\n\r\n      <LayoutOne headerTop=\"visible\">\r\n        {/* breadcrumb */}\r\n        <Breadcrumb />\r\n        <div className=\"cart-main-area pt-90 pb-100\">\r\n          <div className=\"container\">\r\n            {cartItems && cartItems.length >= 1 ? (\r\n              <Fragment>\r\n                <h3 className=\"cart-page-title\">Tus items</h3>\r\n                <div className=\"row\">\r\n                  <div className=\"col-12\">\r\n                    <div className=\"table-content table-responsive cart-table-content\">\r\n                      <table>\r\n                        <thead>\r\n                          <tr>\r\n                            <th>Imagen</th>\r\n                            <th>Nombre del producto</th>\r\n                            <th>Precio unitario</th>\r\n                            <th>Cantidad</th>\r\n                            <th>Subtotal</th>\r\n                          </tr>\r\n                            <th>Acción</th>\r\n                        </thead>\r\n                        <tbody>\r\n                          {cartItems.map((cartItem, key) => {\r\n                            const discountedPrice = getDiscountPrice(\r\n                              cartItem.price,\r\n                              cartItem.discount\r\n                            );\r\n                            const finalProductPrice = (\r\n                              cartItem.price * currency.currencyRate\r\n                            ).toFixed(2);\r\n                            const finalDiscountedPrice = (\r\n                              discountedPrice * currency.currencyRate\r\n                            ).toFixed(2);\r\n\r\n                            discountedPrice != null\r\n                              ? (cartTotalPrice +=\r\n                                  finalDiscountedPrice * cartItem.quantity)\r\n                              : (cartTotalPrice +=\r\n                                  finalProductPrice * cartItem.quantity);\r\n                            return (\r\n                              <tr key={key}>\r\n                                <td className=\"product-thumbnail\">\r\n                                  <Link\r\n                                    to={\r\n                                      process.env.PUBLIC_URL +\r\n                                      \"/product/\" +\r\n                                      cartItem.id\r\n                                    }\r\n                                  >\r\n                                    <img\r\n                                      className=\"img-fluid\"\r\n                                      src={\r\n                                        process.env.PUBLIC_URL +\r\n                                        cartItem.image[0]\r\n                                      }\r\n                                      alt=\"\"\r\n                                    />\r\n                                  </Link>\r\n                                </td>\r\n\r\n                                <td className=\"product-name\">\r\n                                  <Link\r\n                                    to={\r\n                                      process.env.PUBLIC_URL +\r\n                                      \"/product/\" +\r\n                                      cartItem.id\r\n                                    }\r\n                                  >\r\n                                    {cartItem.name}\r\n                                  </Link>\r\n                                  {cartItem.selectedProductColor &&\r\n                                  cartItem.selectedProductSize ? (\r\n                                    <div className=\"cart-item-variation\">\r\n                                      <span>\r\n                                        Color: {cartItem.selectedProductColor}\r\n                                      </span>\r\n                                      <span>\r\n                                        Size: {cartItem.selectedProductSize}\r\n                                      </span>\r\n                                    </div>\r\n                                  ) : (\r\n                                    \"\"\r\n                                  )}\r\n                                </td>\r\n\r\n                                <td className=\"product-price-cart\">\r\n                                  {discountedPrice !== null ? (\r\n                                    <Fragment>\r\n                                      <span className=\"amount old\">\r\n                                        {currency.currencySymbol +\r\n                                          finalProductPrice}\r\n                                      </span>\r\n                                      <span className=\"amount\">\r\n                                        {currency.currencySymbol +\r\n                                          finalDiscountedPrice}\r\n                                      </span>\r\n                                    </Fragment>\r\n                                  ) : (\r\n                                    <span className=\"amount\">\r\n                                      {currency.currencySymbol +\r\n                                        finalProductPrice}\r\n                                    </span>\r\n                                  )}\r\n                                </td>\r\n\r\n                                <td className=\"product-quantity\">\r\n                                  <div className=\"cart-plus-minus\">\r\n                                    <button\r\n                                      className=\"dec qtybutton\"\r\n                                      onClick={() =>\r\n                                        decreaseQuantity(cartItem, addToast)\r\n                                      }\r\n                                    >\r\n                                      -\r\n                                    </button>\r\n                                    <input\r\n                                      className=\"cart-plus-minus-box\"\r\n                                      type=\"text\"\r\n                                      value={cartItem.quantity}\r\n                                      readOnly\r\n                                    />\r\n                                    <button\r\n                                      className=\"inc qtybutton\"\r\n                                      onClick={() =>\r\n                                        addToCart(\r\n                                          cartItem,\r\n                                          addToast,\r\n                                          quantityCount\r\n                                        )\r\n                                      }\r\n                                      disabled={\r\n                                        cartItem !== undefined &&\r\n                                        cartItem.quantity &&\r\n                                        cartItem.quantity >=\r\n                                          cartItemStock(\r\n                                            cartItem,\r\n                                            cartItem.selectedProductColor,\r\n                                            cartItem.selectedProductSize\r\n                                          )\r\n                                      }\r\n                                    >\r\n                                      +\r\n                                    </button>\r\n                                  </div>\r\n                                </td>\r\n                                <td className=\"product-subtotal\">\r\n                                  {discountedPrice !== null\r\n                                    ? currency.currencySymbol +\r\n                                      (\r\n                                        finalDiscountedPrice * cartItem.quantity\r\n                                      ).toFixed(2)\r\n                                    : currency.currencySymbol +\r\n                                      (\r\n                                        finalProductPrice * cartItem.quantity\r\n                                      ).toFixed(2)}\r\n                                </td>\r\n\r\n                                <td className=\"product-remove\">\r\n                                  <button\r\n                                    onClick={() =>\r\n                                      deleteFromCart(cartItem, addToast)\r\n                                    }\r\n                                  >\r\n                                    <i className=\"fa fa-times\"></i>\r\n                                  </button>\r\n                                </td>\r\n                              </tr>\r\n                            );\r\n                          })}\r\n                        </tbody>\r\n                      </table>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                  <div className=\"col-lg-12\">\r\n                    <div className=\"cart-shiping-update-wrapper\">\r\n                      <div className=\"cart-shiping-update\">\r\n                        <Link\r\n                          to={process.env.PUBLIC_URL + \"/shop\"}\r\n                        >\r\n                          Continuar Comprando\r\n                        </Link>\r\n                      </div>\r\n                      <div className=\"cart-clear\">\r\n                        <button onClick={() => deleteAllFromCart(addToast)}>\r\n                          Limpiar Carrito\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                  <div className=\"col-lg-4 col-md-6\">\r\n                    <div className=\"cart-tax\">\r\n                      <div className=\"title-wrap\">\r\n                        <h4 className=\"cart-bottom-title section-bg-gray\">\r\n                        Envío e impuesto estimado\r\n                        </h4>\r\n                      </div>\r\n                      <div className=\"tax-wrapper\">\r\n                        <p>\r\n                        Ingrese su destino para obtener un precio estimado de envío.\r\n                        </p>\r\n                        <div className=\"tax-select-wrapper\">\r\n                          <div className=\"tax-select\">\r\n                            <label>* Pais</label>\r\n                            <select className=\"email s-email s-wid\">\r\n                              <option>Perú</option>\r\n                            </select>\r\n                          </div>\r\n                          <div className=\"tax-select\">\r\n                            <label>* Ciudad</label>\r\n                            <select className=\"email s-email s-wid\">\r\n                              <option>Lima</option>\r\n                              <option>Ica</option>\r\n                              <option>Trujillo</option>\r\n                              <option>Arequipa</option>\r\n                              <option>Cusco</option>\r\n                            </select>\r\n                          </div>\r\n                          <div className=\"tax-select\">\r\n                            <label>Codigo Postal</label>\r\n                            <input type=\"text\" />\r\n                          </div>\r\n                          <button className=\"cart-btn-2\" type=\"submit\">\r\n                            Obten un estimado\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"col-lg-4 col-md-6\">\r\n                    <div className=\"discount-code-wrapper\">\r\n                      <div className=\"title-wrap\">\r\n                        <h4 className=\"cart-bottom-title section-bg-gray\">\r\n                          Usar codigo de cupon\r\n                        </h4>\r\n                      </div>\r\n                      <div className=\"discount-code\">\r\n                        <p>Ingresa tu cupon si tienes uno.</p>\r\n                        <form>\r\n                          <input type=\"text\" required name=\"name\" />\r\n                          <button className=\"cart-btn-2\" type=\"submit\">\r\n                            Aplicar Cupon\r\n                          </button>\r\n                        </form>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"col-lg-4 col-md-12\">\r\n                    <div className=\"grand-totall\">\r\n                      <div className=\"title-wrap\">\r\n                        <h4 className=\"cart-bottom-title section-bg-gary-cart\">\r\n                          Total del carrito\r\n                        </h4>\r\n                      </div>\r\n                      <h5>\r\n                        Productos totales{\" \"}\r\n                        <span>\r\n                          {currency.currencySymbol + cartTotalPrice.toFixed(2)}\r\n                        </span>\r\n                      </h5>\r\n\r\n                      <h4 className=\"grand-totall-title\">\r\n                        Total{\" \"}\r\n                        <span>\r\n                          {currency.currencySymbol + cartTotalPrice.toFixed(2)}\r\n                        </span>\r\n                      </h4>\r\n                      <Link to={process.env.PUBLIC_URL + \"/checkout\"}>\r\n                        Proceder con compra\r\n                      </Link>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </Fragment>\r\n            ) : (\r\n              <div className=\"row\">\r\n                <div className=\"col-lg-12\">\r\n                  <div className=\"item-empty-area text-center\">\r\n                    <div className=\"item-empty-area__icon mb-30\">\r\n                      <i className=\"pe-7s-cart\"></i>\r\n                    </div>\r\n                    <div className=\"item-empty-area__text\">\r\n                      No tienes items en el carrito <br />{\" \"}\r\n                      <Link to={process.env.PUBLIC_URL + \"/shop\"}>\r\n                        Compra Ahora\r\n                      </Link>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </LayoutOne>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nCart.propTypes = {\r\n  addToCart: PropTypes.func,\r\n  cartItems: PropTypes.array,\r\n  currency: PropTypes.object,\r\n  decreaseQuantity: PropTypes.func,\r\n  location: PropTypes.object,\r\n  deleteAllFromCart: PropTypes.func,\r\n  deleteFromCart: PropTypes.func\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    cartItems: state.cartData,\r\n    currency: state.currencyData\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    addToCart: (item, addToast, quantityCount) => {\r\n      dispatch(addToCart(item, addToast, quantityCount));\r\n    },\r\n    decreaseQuantity: (item, addToast) => {\r\n      dispatch(decreaseQuantity(item, addToast));\r\n    },\r\n    deleteFromCart: (item, addToast) => {\r\n      dispatch(deleteFromCart(item, addToast));\r\n    },\r\n    deleteAllFromCart: addToast => {\r\n      dispatch(deleteAllFromCart(addToast));\r\n    }\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Cart);\r\n"]},"metadata":{},"sourceType":"module"}