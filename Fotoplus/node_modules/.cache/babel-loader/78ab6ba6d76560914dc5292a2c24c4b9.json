{"ast":null,"code":"import _slicedToArray from \"/Users/admin/Desktop/Projects/FotoplusProyectr/Fotoplus/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/Users/admin/Desktop/Projects/FotoplusProyectr/Fotoplus/src/pages/shop/ShopGridStandard.js\",\n    _this = this;\n\nimport PropTypes from \"prop-types\";\nimport React, { Fragment, useState, useEffect } from \"react\";\nimport MetaTags from \"react-meta-tags\";\nimport Paginator from \"react-hooks-paginator\";\nimport { BreadcrumbsItem } from \"react-breadcrumbs-dynamic\";\nimport { connect } from \"react-redux\";\nimport { getSortedProducts, setActiveSort } from \"../../helpers/product\";\nimport LayoutOne from \"../../layouts/LayoutOne\";\nimport Breadcrumb from \"../../wrappers/breadcrumb/Breadcrumb\";\nimport ShopSidebar from \"../../wrappers/product/ShopSidebar\";\nimport ShopTopbar from \"../../wrappers/product/ShopTopbar\";\nimport ShopProducts from \"../../wrappers/product/ShopProducts\";\n\nfunction SeleccionDeParametroDeOrden(_ref) {\n  var IdModify = _ref.params.IdModify,\n      sortValue = _ref.sortValue;\n\n  if (sortValue === IdModify) {\n    setActiveSort(IdModify);\n  }\n\n  return /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 13\n    }\n  });\n}\n\nvar paginationExecuted = undefined;\n/**\r\n * Pagína que muestra los productos ya dependiendo de su categoria, su forma, color, tamaño, etc.\r\n * @param {*} param0\r\n */\n\nvar ShopGridStandard = function ShopGridStandard(_ref2) {\n  var location = _ref2.location,\n      products = _ref2.products,\n      params = _ref2.match.params,\n      history = _ref2.history;\n\n  var _useState = useState(\"grid three-column\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      layout = _useState2[0],\n      setLayout = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      sortType = _useState4[0],\n      setSortType = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      sortValue = _useState6[0],\n      setSortValue = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      filterSortType = _useState8[0],\n      setFilterSortType = _useState8[1];\n\n  var _useState9 = useState(\"\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      filterSortValue = _useState10[0],\n      setFilterSortValue = _useState10[1];\n\n  var _useState11 = useState(0),\n      _useState12 = _slicedToArray(_useState11, 2),\n      offset = _useState12[0],\n      setOffset = _useState12[1];\n\n  var pageId = 1;\n\n  if (params.pageId !== undefined) {\n    pageId = params.pageId;\n  }\n\n  var _useState13 = useState(pageId),\n      _useState14 = _slicedToArray(_useState13, 2),\n      currentPage = _useState14[0],\n      _setCurrentPage = _useState14[1];\n\n  var _useState15 = useState([]),\n      _useState16 = _slicedToArray(_useState15, 2),\n      currentData = _useState16[0],\n      setCurrentData = _useState16[1];\n\n  var _useState17 = useState([]),\n      _useState18 = _slicedToArray(_useState17, 2),\n      sortedProducts = _useState18[0],\n      setSortedProducts = _useState18[1];\n\n  var pageLimit = 15;\n  var pathname = location.pathname;\n\n  var getLayout = function getLayout(layout) {\n    setLayout(layout);\n  };\n\n  var _getSortParams = function getSortParams(sortType, sortValue) {\n    console.log(sortType, sortValue, params.category, params, 'parametros');\n    setSortType(sortType);\n    setSortValue(sortValue);\n  };\n\n  var getFilterSortParams = function getFilterSortParams(sortType, sortValue) {\n    setFilterSortType(sortType);\n    setFilterSortValue(sortValue);\n  };\n\n  if (Object.keys(params).length !== 0 && sortValue.length === 0) {\n    var modify = params.modify,\n        IdModify = params.IdModify;\n\n    _getSortParams(modify, IdModify);\n  }\n\n  useEffect(function () {\n    var sortedProducts = getSortedProducts(products, sortType, sortValue, params.category);\n    var filterSortedProducts = getSortedProducts(sortedProducts, filterSortType, filterSortValue);\n    sortedProducts = filterSortedProducts;\n    setSortedProducts(sortedProducts);\n    setCurrentData(sortedProducts.slice(offset, offset + pageLimit));\n  }, [offset, products, sortType, sortValue, filterSortType, filterSortValue]);\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(MetaTags, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"title\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }\n  }, \"Fotoplus | Tienda\"), /*#__PURE__*/React.createElement(\"meta\", {\n    name: \"description\",\n    content: \"Fotoplus - La vida es para imprimirla.\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(BreadcrumbsItem, {\n    to: process.env.PUBLIC_URL + \"/\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }, \"Inicio\"), /*#__PURE__*/React.createElement(BreadcrumbsItem, {\n    to: process.env.PUBLIC_URL + pathname,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }, \"Tienda\"), /*#__PURE__*/React.createElement(LayoutOne, {\n    headerTop: \"visible\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Breadcrumb, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"shop-area pt-95 pb-100\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-3 order-2 order-lg-1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(ShopSidebar, {\n    products: products,\n    getSortParams: function getSortParams(a, b) {\n      if (b === 'size') {\n        if (params.modify === 'category') {\n          var category = params.IdModify;\n          history.push(\"/shop/\".concat(a, \"/\").concat(b, \"/\").concat(pageId, \"/\").concat(category));\n        } else {\n          history.push(\"/shop/\".concat(a, \"/\").concat(b, \"/\").concat(pageId, \"/\").concat(params.category));\n        }\n      } else {\n        history.push(\"/shop/\".concat(a, \"/\").concat(b, \"/\"));\n      }\n\n      _getSortParams(a, b);\n    },\n    sideSpaceClass: \"mr-30\",\n    history: history,\n    sortValue: sortValue,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-9 order-1 order-lg-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(ShopTopbar, {\n    getLayout: getLayout,\n    getFilterSortParams: getFilterSortParams,\n    productCount: products.length,\n    sortedProductCount: currentData.length,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(ShopProducts, {\n    callBackProducClicked: function callBackProducClicked() {\n      return paginationExecuted = undefined;\n    },\n    layout: layout,\n    products: currentData,\n    currentPage: currentPage,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pro-pagination-style text-center mt-30\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Paginator, {\n    totalRecords: sortedProducts.length,\n    pageLimit: pageLimit,\n    pageNeighbours: 2,\n    setOffset: setOffset,\n    currentPage: Number(currentPage),\n    setCurrentPage: function setCurrentPage(page) {\n      window.scrollTo(0, 0);\n\n      if (paginationExecuted) {\n        _setCurrentPage(page);\n\n        if (params.IdModify) {\n          history.push(\"/shop/category/\".concat(params.IdModify, \"/\").concat(page, \"/\").concat(params.category || ''));\n        } else {\n          history.push(\"/shop/\".concat(page));\n        }\n      } else if (paginationExecuted === undefined) {\n        paginationExecuted = false;\n      } else if (paginationExecuted === false) {\n        paginationExecuted = true;\n      }\n    },\n    pageContainerClass: \"mb-0 mt-0\",\n    pagePrevText: \"\\xAB\",\n    pageNextText: \"\\xBB\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(SeleccionDeParametroDeOrden, {\n    params: params,\n    sortValue: sortValue,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 37\n    }\n  }))))))));\n};\n\nShopGridStandard.propTypes = {\n  location: PropTypes.object,\n  products: PropTypes.array\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    products: state.productData.products\n  };\n};\n\nexport default connect(mapStateToProps)(ShopGridStandard);","map":{"version":3,"sources":["/Users/admin/Desktop/Projects/FotoplusProyectr/Fotoplus/src/pages/shop/ShopGridStandard.js"],"names":["PropTypes","React","Fragment","useState","useEffect","MetaTags","Paginator","BreadcrumbsItem","connect","getSortedProducts","setActiveSort","LayoutOne","Breadcrumb","ShopSidebar","ShopTopbar","ShopProducts","SeleccionDeParametroDeOrden","IdModify","params","sortValue","paginationExecuted","undefined","ShopGridStandard","location","products","match","history","layout","setLayout","sortType","setSortType","setSortValue","filterSortType","setFilterSortType","filterSortValue","setFilterSortValue","offset","setOffset","pageId","currentPage","setCurrentPage","currentData","setCurrentData","sortedProducts","setSortedProducts","pageLimit","pathname","getLayout","getSortParams","console","log","category","getFilterSortParams","Object","keys","length","modify","filterSortedProducts","slice","process","env","PUBLIC_URL","a","b","push","Number","page","window","scrollTo","propTypes","object","array","mapStateToProps","state","productData"],"mappings":";;;;;AAAA,OAAOA,SAAP,MAAsB,YAAtB;AACA,OAAOC,KAAP,IAAeC,QAAf,EAAyBC,QAAzB,EAAmCC,SAAnC,QAAmD,OAAnD;AACA,OAAOC,QAAP,MAAqB,iBAArB;AACA,OAAOC,SAAP,MAAsB,uBAAtB;AACA,SAAQC,eAAR,QAA8B,2BAA9B;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,SAAQC,iBAAR,EAA2BC,aAA3B,QAA+C,uBAA/C;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,UAAP,MAAuB,sCAAvB;AACA,OAAOC,WAAP,MAAwB,oCAAxB;AACA,OAAOC,UAAP,MAAuB,mCAAvB;AACA,OAAOC,YAAP,MAAyB,qCAAzB;;AAEA,SAASC,2BAAT,OAAsE;AAAA,MAAvBC,QAAuB,QAAhCC,MAAgC,CAAvBD,QAAuB;AAAA,MAAZE,SAAY,QAAZA,SAAY;;AAClE,MAAIA,SAAS,KAAKF,QAAlB,EAA4B;AACxBP,IAAAA,aAAa,CAACO,QAAD,CAAb;AACH;;AACD,sBAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAR;AACH;;AAED,IAAIG,kBAAkB,GAAGC,SAAzB;AAEA;;;;;AAIA,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,QAAoD;AAAA,MAAlDC,QAAkD,SAAlDA,QAAkD;AAAA,MAAxCC,QAAwC,SAAxCA,QAAwC;AAAA,MAAtBN,MAAsB,SAA9BO,KAA8B,CAAtBP,MAAsB;AAAA,MAAbQ,OAAa,SAAbA,OAAa;;AAAA,kBAC7CvB,QAAQ,CAAC,mBAAD,CADqC;AAAA;AAAA,MAClEwB,MADkE;AAAA,MAC1DC,SAD0D;;AAAA,mBAEzCzB,QAAQ,CAAC,EAAD,CAFiC;AAAA;AAAA,MAElE0B,QAFkE;AAAA,MAExDC,WAFwD;;AAAA,mBAGvC3B,QAAQ,CAAC,EAAD,CAH+B;AAAA;AAAA,MAGlEgB,SAHkE;AAAA,MAGvDY,YAHuD;;AAAA,mBAI7B5B,QAAQ,CAAC,EAAD,CAJqB;AAAA;AAAA,MAIlE6B,cAJkE;AAAA,MAIlDC,iBAJkD;;AAAA,mBAK3B9B,QAAQ,CAAC,EAAD,CALmB;AAAA;AAAA,MAKlE+B,eALkE;AAAA,MAKjDC,kBALiD;;AAAA,oBAM7ChC,QAAQ,CAAC,CAAD,CANqC;AAAA;AAAA,MAMlEiC,MANkE;AAAA,MAM1DC,SAN0D;;AAQzE,MAAIC,MAAM,GAAG,CAAb;;AACA,MAAIpB,MAAM,CAACoB,MAAP,KAAkBjB,SAAtB,EAAiC;AAC7BiB,IAAAA,MAAM,GAAGpB,MAAM,CAACoB,MAAhB;AACH;;AAXwE,oBAYnCnC,QAAQ,CAACmC,MAAD,CAZ2B;AAAA;AAAA,MAYlEC,WAZkE;AAAA,MAYrDC,eAZqD;;AAAA,oBAcnCrC,QAAQ,CAAC,EAAD,CAd2B;AAAA;AAAA,MAclEsC,WAdkE;AAAA,MAcrDC,cAdqD;;AAAA,oBAe7BvC,QAAQ,CAAC,EAAD,CAfqB;AAAA;AAAA,MAelEwC,cAfkE;AAAA,MAelDC,iBAfkD;;AAgBzE,MAAMC,SAAS,GAAG,EAAlB;AAhByE,MAiBlEC,QAjBkE,GAiBtDvB,QAjBsD,CAiBlEuB,QAjBkE;;AAmBzE,MAAMC,SAAS,GAAG,SAAZA,SAAY,CAACpB,MAAD,EAAY;AAC1BC,IAAAA,SAAS,CAACD,MAAD,CAAT;AACH,GAFD;;AAIA,MAAMqB,cAAa,GAAG,SAAhBA,aAAgB,CAACnB,QAAD,EAAWV,SAAX,EAAyB;AAC3C8B,IAAAA,OAAO,CAACC,GAAR,CAAYrB,QAAZ,EAAsBV,SAAtB,EAAiCD,MAAM,CAACiC,QAAxC,EAAkDjC,MAAlD,EAA0D,YAA1D;AACAY,IAAAA,WAAW,CAACD,QAAD,CAAX;AACAE,IAAAA,YAAY,CAACZ,SAAD,CAAZ;AACH,GAJD;;AAKA,MAAMiC,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACvB,QAAD,EAAWV,SAAX,EAAyB;AACjDc,IAAAA,iBAAiB,CAACJ,QAAD,CAAjB;AACAM,IAAAA,kBAAkB,CAAChB,SAAD,CAAlB;AACH,GAHD;;AAIA,MAAIkC,MAAM,CAACC,IAAP,CAAYpC,MAAZ,EAAoBqC,MAApB,KAA+B,CAA/B,IAAoCpC,SAAS,CAACoC,MAAV,KAAqB,CAA7D,EAAgE;AAAA,QACvDC,MADuD,GACnCtC,MADmC,CACvDsC,MADuD;AAAA,QAC/CvC,QAD+C,GACnCC,MADmC,CAC/CD,QAD+C;;AAE5D+B,IAAAA,cAAa,CAACQ,MAAD,EAASvC,QAAT,CAAb;AACH;;AACDb,EAAAA,SAAS,CAAC,YAAM;AACZ,QAAIuC,cAAc,GAAGlC,iBAAiB,CAACe,QAAD,EAAWK,QAAX,EAAqBV,SAArB,EAAgCD,MAAM,CAACiC,QAAvC,CAAtC;AACA,QAAMM,oBAAoB,GAAGhD,iBAAiB,CAC1CkC,cAD0C,EAE1CX,cAF0C,EAG1CE,eAH0C,CAA9C;AAKAS,IAAAA,cAAc,GAAGc,oBAAjB;AACAb,IAAAA,iBAAiB,CAACD,cAAD,CAAjB;AACAD,IAAAA,cAAc,CAACC,cAAc,CAACe,KAAf,CAAqBtB,MAArB,EAA6BA,MAAM,GAAGS,SAAtC,CAAD,CAAd;AAEH,GAXQ,EAWN,CAACT,MAAD,EAASZ,QAAT,EAAmBK,QAAnB,EAA6BV,SAA7B,EAAwCa,cAAxC,EAAwDE,eAAxD,CAXM,CAAT;AAYA,sBACI,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADJ,eAEI;AACI,IAAA,IAAI,EAAC,aADT;AAEI,IAAA,OAAO,EAAC,wCAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CADJ,eAQI,oBAAC,eAAD;AAAiB,IAAA,EAAE,EAAEyB,OAAO,CAACC,GAAR,CAAYC,UAAZ,GAAyB,GAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cARJ,eAWI,oBAAC,eAAD;AAAiB,IAAA,EAAE,EAAEF,OAAO,CAACC,GAAR,CAAYC,UAAZ,GAAyBf,QAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAXJ,eAeI,oBAAC,SAAD;AAAW,IAAA,SAAS,EAAC,SAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEI,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,eAII;AAAK,IAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,6BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEI,oBAAC,WAAD;AACI,IAAA,QAAQ,EAAEtB,QADd;AAEI,IAAA,aAAa,EAAG,uBAACsC,CAAD,EAAIC,CAAJ,EAAU;AACtB,UAAGA,CAAC,KAAK,MAAT,EAAiB;AACb,YAAG7C,MAAM,CAACsC,MAAP,KAAkB,UAArB,EAAiC;AAC7B,cAAML,QAAQ,GAAGjC,MAAM,CAACD,QAAxB;AACAS,UAAAA,OAAO,CAACsC,IAAR,iBAAsBF,CAAtB,cAA2BC,CAA3B,cAAgCzB,MAAhC,cAA0Ca,QAA1C;AACH,SAHD,MAGO;AACHzB,UAAAA,OAAO,CAACsC,IAAR,iBAAsBF,CAAtB,cAA2BC,CAA3B,cAAgCzB,MAAhC,cAA0CpB,MAAM,CAACiC,QAAjD;AACH;AACJ,OAPD,MAOO;AACHzB,QAAAA,OAAO,CAACsC,IAAR,iBAAsBF,CAAtB,cAA2BC,CAA3B;AACH;;AACDf,MAAAA,cAAa,CAACc,CAAD,EAAIC,CAAJ,CAAb;AACH,KAdL;AAeI,IAAA,cAAc,EAAC,OAfnB;AAgBI,IAAA,OAAO,EAAErC,OAhBb;AAiBI,IAAA,SAAS,EAAEP,SAjBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CADJ,eAuBI;AAAK,IAAA,SAAS,EAAC,6BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEI,oBAAC,UAAD;AACI,IAAA,SAAS,EAAE4B,SADf;AAEI,IAAA,mBAAmB,EAAEK,mBAFzB;AAGI,IAAA,YAAY,EAAE5B,QAAQ,CAAC+B,MAH3B;AAII,IAAA,kBAAkB,EAAEd,WAAW,CAACc,MAJpC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,eAUI,oBAAC,YAAD;AAAc,IAAA,qBAAqB,EAAG;AAAA,aAAMnC,kBAAkB,GAAGC,SAA3B;AAAA,KAAtC;AAA6E,IAAA,MAAM,EAAEM,MAArF;AAA6F,IAAA,QAAQ,EAAEc,WAAvG;AAAoH,IAAA,WAAW,EAAEF,WAAjI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVJ,eAaI;AAAK,IAAA,SAAS,EAAC,wCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,SAAD;AACI,IAAA,YAAY,EAAEI,cAAc,CAACY,MADjC;AAEI,IAAA,SAAS,EAAEV,SAFf;AAGI,IAAA,cAAc,EAAE,CAHpB;AAII,IAAA,SAAS,EAAER,SAJf;AAKI,IAAA,WAAW,EAAE4B,MAAM,CAAC1B,WAAD,CALvB;AAMI,IAAA,cAAc,EAAE,wBAAC2B,IAAD,EAAU;AACtBC,MAAAA,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAmB,CAAnB;;AACA,UAAIhD,kBAAJ,EAAwB;AACpBoB,QAAAA,eAAc,CAAC0B,IAAD,CAAd;;AACA,YAAIhD,MAAM,CAACD,QAAX,EAAqB;AACjBS,UAAAA,OAAO,CAACsC,IAAR,0BAA+B9C,MAAM,CAACD,QAAtC,cAAkDiD,IAAlD,cAA0DhD,MAAM,CAACiC,QAAP,IAAmB,EAA7E;AACH,SAFD,MAEO;AACHzB,UAAAA,OAAO,CAACsC,IAAR,iBAAsBE,IAAtB;AACH;AACJ,OAPD,MAOO,IAAI9C,kBAAkB,KAAKC,SAA3B,EAAsC;AACzCD,QAAAA,kBAAkB,GAAG,KAArB;AACH,OAFM,MAEA,IAAIA,kBAAkB,KAAK,KAA3B,EAAkC;AACrCA,QAAAA,kBAAkB,GAAG,IAArB;AACH;AACJ,KApBL;AAqBI,IAAA,kBAAkB,EAAC,WArBvB;AAsBI,IAAA,YAAY,EAAC,MAtBjB;AAuBI,IAAA,YAAY,EAAC,MAvBjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eA0BI,oBAAC,2BAAD;AAA6B,IAAA,MAAM,EAAEF,MAArC;AAA6C,IAAA,SAAS,EAAEC,SAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA1BJ,CAbJ,CAvBJ,CADJ,CADJ,CAJJ,CAfJ,CADJ;AA6FH,CA7ID;;AA+IAG,gBAAgB,CAAC+C,SAAjB,GAA6B;AACzB9C,EAAAA,QAAQ,EAAEvB,SAAS,CAACsE,MADK;AAEzB9C,EAAAA,QAAQ,EAAExB,SAAS,CAACuE;AAFK,CAA7B;;AAKA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD,EAAW;AAC/B,SAAO;AACHjD,IAAAA,QAAQ,EAAEiD,KAAK,CAACC,WAAN,CAAkBlD;AADzB,GAAP;AAGH,CAJD;;AAMA,eAAehB,OAAO,CAACgE,eAAD,CAAP,CAAyBlD,gBAAzB,CAAf","sourcesContent":["import PropTypes from \"prop-types\";\r\nimport React, {Fragment, useState, useEffect} from \"react\";\r\nimport MetaTags from \"react-meta-tags\";\r\nimport Paginator from \"react-hooks-paginator\";\r\nimport {BreadcrumbsItem} from \"react-breadcrumbs-dynamic\";\r\nimport {connect} from \"react-redux\";\r\nimport {getSortedProducts, setActiveSort} from \"../../helpers/product\";\r\nimport LayoutOne from \"../../layouts/LayoutOne\";\r\nimport Breadcrumb from \"../../wrappers/breadcrumb/Breadcrumb\";\r\nimport ShopSidebar from \"../../wrappers/product/ShopSidebar\";\r\nimport ShopTopbar from \"../../wrappers/product/ShopTopbar\";\r\nimport ShopProducts from \"../../wrappers/product/ShopProducts\";\r\n\r\nfunction SeleccionDeParametroDeOrden({params: {IdModify}, sortValue}) {\r\n    if (sortValue === IdModify) {\r\n        setActiveSort(IdModify);\r\n    }\r\n    return (<span/>)\r\n}\r\n\r\nlet paginationExecuted = undefined;\r\n\r\n/**\r\n * Pagína que muestra los productos ya dependiendo de su categoria, su forma, color, tamaño, etc.\r\n * @param {*} param0\r\n */\r\nconst ShopGridStandard = ({location, products, match: {params}, history}) => {\r\n    const [layout, setLayout] = useState(\"grid three-column\");\r\n    const [sortType, setSortType] = useState(\"\");\r\n    const [sortValue, setSortValue] = useState(\"\");\r\n    const [filterSortType, setFilterSortType] = useState(\"\");\r\n    const [filterSortValue, setFilterSortValue] = useState(\"\");\r\n    const [offset, setOffset] = useState(0);\r\n\r\n    let pageId = 1;\r\n    if (params.pageId !== undefined) {\r\n        pageId = params.pageId\r\n    }\r\n    const [currentPage, setCurrentPage] = useState(pageId);\r\n\r\n    const [currentData, setCurrentData] = useState([]);\r\n    const [sortedProducts, setSortedProducts] = useState([]);\r\n    const pageLimit = 15;\r\n    const {pathname} = location;\r\n\r\n    const getLayout = (layout) => {\r\n        setLayout(layout);\r\n    };\r\n\r\n    const getSortParams = (sortType, sortValue) => {\r\n        console.log(sortType, sortValue, params.category, params, 'parametros');\r\n        setSortType(sortType);\r\n        setSortValue(sortValue);\r\n    };\r\n    const getFilterSortParams = (sortType, sortValue) => {\r\n        setFilterSortType(sortType);\r\n        setFilterSortValue(sortValue);\r\n    };\r\n    if (Object.keys(params).length !== 0 && sortValue.length === 0) {\r\n        let {modify, IdModify} = params\r\n        getSortParams(modify, IdModify)\r\n    }\r\n    useEffect(() => {\r\n        let sortedProducts = getSortedProducts(products, sortType, sortValue, params.category);\r\n        const filterSortedProducts = getSortedProducts(\r\n            sortedProducts,\r\n            filterSortType,\r\n            filterSortValue\r\n        );\r\n        sortedProducts = filterSortedProducts;\r\n        setSortedProducts(sortedProducts);\r\n        setCurrentData(sortedProducts.slice(offset, offset + pageLimit));\r\n\r\n    }, [offset, products, sortType, sortValue, filterSortType, filterSortValue]);\r\n    return (\r\n        <Fragment>\r\n            <MetaTags>\r\n                <title>Fotoplus | Tienda</title>\r\n                <meta\r\n                    name=\"description\"\r\n                    content=\"Fotoplus - La vida es para imprimirla.\"\r\n                />\r\n            </MetaTags>\r\n            <BreadcrumbsItem to={process.env.PUBLIC_URL + \"/\"}>\r\n                Inicio\r\n            </BreadcrumbsItem>\r\n            <BreadcrumbsItem to={process.env.PUBLIC_URL + pathname}>\r\n                Tienda\r\n            </BreadcrumbsItem>\r\n\r\n            <LayoutOne headerTop=\"visible\">\r\n                {/* breadcrumb */}\r\n                <Breadcrumb/>\r\n\r\n                <div className=\"shop-area pt-95 pb-100\">\r\n                    <div className=\"container\">\r\n                        <div className=\"row\">\r\n                            <div className=\"col-lg-3 order-2 order-lg-1\">\r\n                                {/* shop sidebar */}\r\n                                <ShopSidebar\r\n                                    products={products}\r\n                                    getSortParams={ (a, b) => {\r\n                                        if(b === 'size') {\r\n                                            if(params.modify === 'category') {\r\n                                                const category = params.IdModify;\r\n                                                history.push(`/shop/${a}/${b}/${pageId}/${category}`);\r\n                                            } else {\r\n                                                history.push(`/shop/${a}/${b}/${pageId}/${params.category}`);\r\n                                            }\r\n                                        } else {\r\n                                            history.push(`/shop/${a}/${b}/`);\r\n                                        }\r\n                                        getSortParams(a, b)\r\n                                    }}\r\n                                    sideSpaceClass=\"mr-30\"\r\n                                    history={history}\r\n                                    sortValue={sortValue}\r\n                                />\r\n                            </div>\r\n                            <div className=\"col-lg-9 order-1 order-lg-2\">\r\n                                {/* shop topbar default */}\r\n                                <ShopTopbar\r\n                                    getLayout={getLayout}\r\n                                    getFilterSortParams={getFilterSortParams}\r\n                                    productCount={products.length}\r\n                                    sortedProductCount={currentData.length}\r\n                                />\r\n\r\n                                {/* shop page content default */}\r\n                                <ShopProducts callBackProducClicked={ () => paginationExecuted = undefined } layout={layout} products={currentData} currentPage={currentPage}/>\r\n\r\n                                {/* shop product pagination */}\r\n                                <div className=\"pro-pagination-style text-center mt-30\">\r\n                                    <Paginator\r\n                                        totalRecords={sortedProducts.length}\r\n                                        pageLimit={pageLimit}\r\n                                        pageNeighbours={2}\r\n                                        setOffset={setOffset}\r\n                                        currentPage={Number(currentPage)}\r\n                                        setCurrentPage={(page) => {\r\n                                            window.scrollTo(0, 0);\r\n                                            if (paginationExecuted) {\r\n                                                setCurrentPage(page);\r\n                                                if (params.IdModify) {\r\n                                                    history.push(`/shop/category/${params.IdModify}/${page}/${params.category || ''}`)\r\n                                                } else {\r\n                                                    history.push(`/shop/${page}`);\r\n                                                }\r\n                                            } else if (paginationExecuted === undefined) {\r\n                                                paginationExecuted = false;\r\n                                            } else if (paginationExecuted === false) {\r\n                                                paginationExecuted = true;\r\n                                            }\r\n                                        }}\r\n                                        pageContainerClass=\"mb-0 mt-0\"\r\n                                        pagePrevText=\"«\"\r\n                                        pageNextText=\"»\"\r\n                                    />\r\n                                    <SeleccionDeParametroDeOrden params={params} sortValue={sortValue}/>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </LayoutOne>\r\n        </Fragment>\r\n    );\r\n};\r\n\r\nShopGridStandard.propTypes = {\r\n    location: PropTypes.object,\r\n    products: PropTypes.array,\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        products: state.productData.products,\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps)(ShopGridStandard);\r\n"]},"metadata":{},"sourceType":"module"}