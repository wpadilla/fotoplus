{"ast":null,"code":"import _objectSpread from\"/Users/admin/Desktop/Projects/FotoplusProyectr/Fotoplus/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"/Users/admin/Desktop/Projects/FotoplusProyectr/Fotoplus/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import uuid from\"uuid/v4\";import{ADD_TO_CART,DECREASE_QUANTITY,DELETE_FROM_CART,DELETE_ALL_FROM_CART}from\"../actions/cartActions\";var initState=[];var cartReducer=function cartReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initState;var action=arguments.length>1?arguments[1]:undefined;var cartItems=state,product=action.payload;if(action.type===ADD_TO_CART){// for non variant products\nif(product.variation===undefined){var cartItem=cartItems.filter(function(item){return item.id===product.id;})[0];if(cartItem===undefined){return[].concat(_toConsumableArray(cartItems),[_objectSpread(_objectSpread({},product),{},{quantity:product.quantity?product.quantity:1,cartItemId:uuid()})]);}else{return cartItems.map(function(item){return item.cartItemId===cartItem.cartItemId?_objectSpread(_objectSpread({},item),{},{quantity:product.quantity?item.quantity+product.quantity:item.quantity+1}):item;});}// for variant products\n}else{var _cartItem=cartItems.filter(function(item){return item.id===product.id&&product.selectedProductColor&&product.selectedProductColor===item.selectedProductColor&&product.selectedProductSize&&product.selectedProductSize===item.selectedProductSize&&(product.cartItemId?product.cartItemId===item.cartItemId:true);})[0];if(_cartItem===undefined){return[].concat(_toConsumableArray(cartItems),[_objectSpread(_objectSpread({},product),{},{quantity:product.quantity?product.quantity:1,cartItemId:uuid()})]);}else if(_cartItem!==undefined&&(_cartItem.selectedProductColor!==product.selectedProductColor||_cartItem.selectedProductSize!==product.selectedProductSize)){return[].concat(_toConsumableArray(cartItems),[_objectSpread(_objectSpread({},product),{},{quantity:product.quantity?product.quantity:1,cartItemId:uuid()})]);}else{return cartItems.map(function(item){return item.cartItemId===_cartItem.cartItemId?_objectSpread(_objectSpread({},item),{},{quantity:product.quantity?item.quantity+product.quantity:item.quantity+1,selectedProductColor:product.selectedProductColor,selectedProductSize:product.selectedProductSize}):item;});}}}if(action.type===DECREASE_QUANTITY){if(product.quantity===1){var remainingItems=function remainingItems(cartItems,product){return cartItems.filter(function(cartItem){return cartItem.cartItemId!==product.cartItemId;});};return remainingItems(cartItems,product);}else{return cartItems.map(function(item){return item.cartItemId===product.cartItemId?_objectSpread(_objectSpread({},item),{},{quantity:item.quantity-1}):item;});}}if(action.type===DELETE_FROM_CART){var _remainingItems=function _remainingItems(cartItems,product){return cartItems.filter(function(cartItem){return cartItem.cartItemId!==product.cartItemId;});};return _remainingItems(cartItems,product);}if(action.type===DELETE_ALL_FROM_CART){return cartItems.filter(function(item){return false;});}return state;};export default cartReducer;","map":{"version":3,"sources":["/Users/admin/Desktop/Projects/FotoplusProyectr/Fotoplus/src/redux/reducers/cartReducer.js"],"names":["uuid","ADD_TO_CART","DECREASE_QUANTITY","DELETE_FROM_CART","DELETE_ALL_FROM_CART","initState","cartReducer","state","action","cartItems","product","payload","type","variation","undefined","cartItem","filter","item","id","quantity","cartItemId","map","selectedProductColor","selectedProductSize","remainingItems"],"mappings":"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","sourcesContent":["import uuid from \"uuid/v4\";\r\nimport {\r\n  ADD_TO_CART,\r\n  DECREASE_QUANTITY,\r\n  DELETE_FROM_CART,\r\n  DELETE_ALL_FROM_CART\r\n} from \"../actions/cartActions\";\r\n\r\nconst initState = [];\r\n\r\nconst cartReducer = (state = initState, action) => {\r\n  const cartItems = state,\r\n    product = action.payload;\r\n\r\n  if (action.type === ADD_TO_CART) {\r\n    // for non variant products\r\n    if (product.variation === undefined) {\r\n      const cartItem = cartItems.filter(item => item.id === product.id)[0];\r\n      if (cartItem === undefined) {\r\n        return [\r\n          ...cartItems,\r\n          {\r\n            ...product,\r\n            quantity: product.quantity ? product.quantity : 1,\r\n            cartItemId: uuid()\r\n          }\r\n        ];\r\n      } else {\r\n        return cartItems.map(item =>\r\n          item.cartItemId === cartItem.cartItemId\r\n            ? {\r\n                ...item,\r\n                quantity: product.quantity\r\n                  ? item.quantity + product.quantity\r\n                  : item.quantity + 1\r\n              }\r\n            : item\r\n        );\r\n      }\r\n      // for variant products\r\n    } else {\r\n      const cartItem = cartItems.filter(\r\n        item =>\r\n          item.id === product.id &&\r\n          product.selectedProductColor &&\r\n          product.selectedProductColor === item.selectedProductColor &&\r\n          product.selectedProductSize &&\r\n          product.selectedProductSize === item.selectedProductSize &&\r\n          (product.cartItemId ? product.cartItemId === item.cartItemId : true)\r\n      )[0];\r\n\r\n      if (cartItem === undefined) {\r\n        return [\r\n          ...cartItems,\r\n          {\r\n            ...product,\r\n            quantity: product.quantity ? product.quantity : 1,\r\n            cartItemId: uuid()\r\n          }\r\n        ];\r\n      } else if (\r\n        cartItem !== undefined &&\r\n        (cartItem.selectedProductColor !== product.selectedProductColor ||\r\n          cartItem.selectedProductSize !== product.selectedProductSize)\r\n      ) {\r\n        return [\r\n          ...cartItems,\r\n          {\r\n            ...product,\r\n            quantity: product.quantity ? product.quantity : 1,\r\n            cartItemId: uuid()\r\n          }\r\n        ];\r\n      } else {\r\n        return cartItems.map(item =>\r\n          item.cartItemId === cartItem.cartItemId\r\n            ? {\r\n                ...item,\r\n                quantity: product.quantity\r\n                  ? item.quantity + product.quantity\r\n                  : item.quantity + 1,\r\n                selectedProductColor: product.selectedProductColor,\r\n                selectedProductSize: product.selectedProductSize\r\n              }\r\n            : item\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  if (action.type === DECREASE_QUANTITY) {\r\n    if (product.quantity === 1) {\r\n      const remainingItems = (cartItems, product) =>\r\n        cartItems.filter(\r\n          cartItem => cartItem.cartItemId !== product.cartItemId\r\n        );\r\n      return remainingItems(cartItems, product);\r\n    } else {\r\n      return cartItems.map(item =>\r\n        item.cartItemId === product.cartItemId\r\n          ? { ...item, quantity: item.quantity - 1 }\r\n          : item\r\n      );\r\n    }\r\n  }\r\n\r\n  if (action.type === DELETE_FROM_CART) {\r\n    const remainingItems = (cartItems, product) =>\r\n      cartItems.filter(cartItem => cartItem.cartItemId !== product.cartItemId);\r\n    return remainingItems(cartItems, product);\r\n  }\r\n\r\n  if (action.type === DELETE_ALL_FROM_CART) {\r\n    return cartItems.filter(item => {\r\n      return false;\r\n    });\r\n  }\r\n\r\n  return state;\r\n};\r\n\r\nexport default cartReducer;\r\n"]},"metadata":{},"sourceType":"module"}