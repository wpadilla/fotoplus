{"version":3,"sources":["pages/other/Cart.js"],"names":["connect","state","cartItems","cartData","currency","currencyData","dispatch","addToCart","item","addToast","quantityCount","decreaseQuantity","deleteFromCart","deleteAllFromCart","location","useState","useToasts","pathname","cartTotalPrice","name","content","to","process","headerTop","className","length","map","cartItem","key","discountedPrice","getDiscountPrice","price","discount","finalProductPrice","currencyRate","toFixed","finalDiscountedPrice","quantity","id","src","image","alt","selectedProductColor","selectedProductSize","currencySymbol","onClick","type","value","readOnly","disabled","undefined","cartItemStock","required"],"mappings":"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","file":"static/js/23.6f20ce06.chunk.js","sourcesContent":["import PropTypes from \"prop-types\";\r\nimport React, { Fragment, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useToasts } from \"react-toast-notifications\";\r\nimport MetaTags from \"react-meta-tags\";\r\nimport { BreadcrumbsItem } from \"react-breadcrumbs-dynamic\";\r\nimport { connect } from \"react-redux\";\r\nimport { getDiscountPrice } from \"../../helpers/product\";\r\nimport {\r\n  addToCart,\r\n  decreaseQuantity,\r\n  deleteFromCart,\r\n  cartItemStock,\r\n  deleteAllFromCart\r\n} from \"../../redux/actions/cartActions\";\r\nimport LayoutOne from \"../../layouts/LayoutOne\";\r\nimport Breadcrumb from \"../../wrappers/breadcrumb/Breadcrumb\";\r\n\r\nconst Cart = ({\r\n  location,\r\n  cartItems,\r\n  currency,\r\n  decreaseQuantity,\r\n  addToCart,\r\n  deleteFromCart,\r\n  deleteAllFromCart\r\n}) => {\r\n  const [quantityCount] = useState(1);\r\n  const { addToast } = useToasts();\r\n  const { pathname } = location;\r\n  let cartTotalPrice = 0;\r\n\r\n  return (\r\n    <Fragment>\r\n      <MetaTags>\r\n        <title>Fotoplus | Carrito</title>\r\n        <meta\r\n          name=\"description\"\r\n          content=\"Fotoplus - La vida es para imprimirla.\"\r\n        />\r\n      </MetaTags>\r\n\r\n      <BreadcrumbsItem to={process.env.PUBLIC_URL + \"/\"}>Inicio</BreadcrumbsItem>\r\n      <BreadcrumbsItem to={process.env.PUBLIC_URL + pathname}>\r\n        Carrito\r\n      </BreadcrumbsItem>\r\n\r\n      <LayoutOne headerTop=\"visible\">\r\n        {/* breadcrumb */}\r\n        <Breadcrumb />\r\n        <div className=\"cart-main-area pt-90 pb-100\">\r\n          <div className=\"container\">\r\n            {cartItems && cartItems.length >= 1 ? (\r\n              <Fragment>\r\n                <h3 className=\"cart-page-title\">Tus items</h3>\r\n                <div className=\"row\">\r\n                  <div className=\"col-12\">\r\n                    <div className=\"table-content table-responsive cart-table-content\">\r\n                      <table>\r\n                        <thead>\r\n                          <tr>\r\n                            <th>Imagen</th>\r\n                            <th>Nombre del producto</th>\r\n                            <th>Precio unitario</th>\r\n                            <th>Cantidad</th>\r\n                            <th>Subtotal</th>\r\n                          </tr>\r\n                            <th>Acción</th>\r\n                        </thead>\r\n                        <tbody>\r\n                          {cartItems.map((cartItem, key) => {\r\n                            const discountedPrice = getDiscountPrice(\r\n                              cartItem.price,\r\n                              cartItem.discount\r\n                            );\r\n                            const finalProductPrice = (\r\n                              cartItem.price * currency.currencyRate\r\n                            ).toFixed(2);\r\n                            const finalDiscountedPrice = (\r\n                              discountedPrice * currency.currencyRate\r\n                            ).toFixed(2);\r\n\r\n                            discountedPrice != null\r\n                              ? (cartTotalPrice +=\r\n                                  finalDiscountedPrice * cartItem.quantity)\r\n                              : (cartTotalPrice +=\r\n                                  finalProductPrice * cartItem.quantity);\r\n                            return (\r\n                              <tr key={key}>\r\n                                <td className=\"product-thumbnail\">\r\n                                  <Link\r\n                                    to={\r\n                                      process.env.PUBLIC_URL +\r\n                                      \"/product/\" +\r\n                                      cartItem.id\r\n                                    }\r\n                                  >\r\n                                    <img\r\n                                      className=\"img-fluid\"\r\n                                      src={\r\n                                        process.env.PUBLIC_URL +\r\n                                        cartItem.image[0]\r\n                                      }\r\n                                      alt=\"\"\r\n                                    />\r\n                                  </Link>\r\n                                </td>\r\n\r\n                                <td className=\"product-name\">\r\n                                  <Link\r\n                                    to={\r\n                                      process.env.PUBLIC_URL +\r\n                                      \"/product/\" +\r\n                                      cartItem.id\r\n                                    }\r\n                                  >\r\n                                    {cartItem.name}\r\n                                  </Link>\r\n                                  {cartItem.selectedProductColor &&\r\n                                  cartItem.selectedProductSize ? (\r\n                                    <div className=\"cart-item-variation\">\r\n                                      <span>\r\n                                        Color: {cartItem.selectedProductColor}\r\n                                      </span>\r\n                                      <span>\r\n                                        Size: {cartItem.selectedProductSize}\r\n                                      </span>\r\n                                    </div>\r\n                                  ) : (\r\n                                    \"\"\r\n                                  )}\r\n                                </td>\r\n\r\n                                <td className=\"product-price-cart\">\r\n                                  {discountedPrice !== null ? (\r\n                                    <Fragment>\r\n                                      <span className=\"amount old\">\r\n                                        {currency.currencySymbol +\r\n                                          finalProductPrice}\r\n                                      </span>\r\n                                      <span className=\"amount\">\r\n                                        {currency.currencySymbol +\r\n                                          finalDiscountedPrice}\r\n                                      </span>\r\n                                    </Fragment>\r\n                                  ) : (\r\n                                    <span className=\"amount\">\r\n                                      {currency.currencySymbol +\r\n                                        finalProductPrice}\r\n                                    </span>\r\n                                  )}\r\n                                </td>\r\n\r\n                                <td className=\"product-quantity\">\r\n                                  <div className=\"cart-plus-minus\">\r\n                                    <button\r\n                                      className=\"dec qtybutton\"\r\n                                      onClick={() =>\r\n                                        decreaseQuantity(cartItem, addToast)\r\n                                      }\r\n                                    >\r\n                                      -\r\n                                    </button>\r\n                                    <input\r\n                                      className=\"cart-plus-minus-box\"\r\n                                      type=\"text\"\r\n                                      value={cartItem.quantity}\r\n                                      readOnly\r\n                                    />\r\n                                    <button\r\n                                      className=\"inc qtybutton\"\r\n                                      onClick={() =>\r\n                                        addToCart(\r\n                                          cartItem,\r\n                                          addToast,\r\n                                          quantityCount\r\n                                        )\r\n                                      }\r\n                                      disabled={\r\n                                        cartItem !== undefined &&\r\n                                        cartItem.quantity &&\r\n                                        cartItem.quantity >=\r\n                                          cartItemStock(\r\n                                            cartItem,\r\n                                            cartItem.selectedProductColor,\r\n                                            cartItem.selectedProductSize\r\n                                          )\r\n                                      }\r\n                                    >\r\n                                      +\r\n                                    </button>\r\n                                  </div>\r\n                                </td>\r\n                                <td className=\"product-subtotal\">\r\n                                  {discountedPrice !== null\r\n                                    ? currency.currencySymbol +\r\n                                      (\r\n                                        finalDiscountedPrice * cartItem.quantity\r\n                                      ).toFixed(2)\r\n                                    : currency.currencySymbol +\r\n                                      (\r\n                                        finalProductPrice * cartItem.quantity\r\n                                      ).toFixed(2)}\r\n                                </td>\r\n\r\n                                <td className=\"product-remove\">\r\n                                  <button\r\n                                    onClick={() =>\r\n                                      deleteFromCart(cartItem, addToast)\r\n                                    }\r\n                                  >\r\n                                    <i className=\"fa fa-times\"></i>\r\n                                  </button>\r\n                                </td>\r\n                              </tr>\r\n                            );\r\n                          })}\r\n                        </tbody>\r\n                      </table>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                  <div className=\"col-lg-12\">\r\n                    <div className=\"cart-shiping-update-wrapper\">\r\n                      <div className=\"cart-shiping-update\">\r\n                        <Link\r\n                          to={process.env.PUBLIC_URL + \"/shop\"}\r\n                        >\r\n                          Continuar Comprando\r\n                        </Link>\r\n                      </div>\r\n                      <div className=\"cart-clear\">\r\n                        <button onClick={() => deleteAllFromCart(addToast)}>\r\n                          Limpiar Carrito\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                  <div className=\"col-lg-4 col-md-6\">\r\n                    <div className=\"cart-tax\">\r\n                      <div className=\"title-wrap\">\r\n                        <h4 className=\"cart-bottom-title section-bg-gray\">\r\n                        Envío e impuesto estimado\r\n                        </h4>\r\n                      </div>\r\n                      <div className=\"tax-wrapper\">\r\n                        <p>\r\n                        Ingrese su destino para obtener un precio estimado de envío.\r\n                        </p>\r\n                        <div className=\"tax-select-wrapper\">\r\n                          <div className=\"tax-select\">\r\n                            <label>* Pais</label>\r\n                            <select className=\"email s-email s-wid\">\r\n                              <option>Perú</option>\r\n                            </select>\r\n                          </div>\r\n                          <div className=\"tax-select\">\r\n                            <label>* Ciudad</label>\r\n                            <select className=\"email s-email s-wid\">\r\n                              <option>Lima</option>\r\n                              <option>Ica</option>\r\n                              <option>Trujillo</option>\r\n                              <option>Arequipa</option>\r\n                              <option>Cusco</option>\r\n                            </select>\r\n                          </div>\r\n                          <div className=\"tax-select\">\r\n                            <label>Codigo Postal</label>\r\n                            <input type=\"text\" />\r\n                          </div>\r\n                          <button className=\"cart-btn-2\" type=\"submit\">\r\n                            Obten un estimado\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"col-lg-4 col-md-6\">\r\n                    <div className=\"discount-code-wrapper\">\r\n                      <div className=\"title-wrap\">\r\n                        <h4 className=\"cart-bottom-title section-bg-gray\">\r\n                          Usar codigo de cupon\r\n                        </h4>\r\n                      </div>\r\n                      <div className=\"discount-code\">\r\n                        <p>Ingresa tu cupon si tienes uno.</p>\r\n                        <form>\r\n                          <input type=\"text\" required name=\"name\" />\r\n                          <button className=\"cart-btn-2\" type=\"submit\">\r\n                            Aplicar Cupon\r\n                          </button>\r\n                        </form>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"col-lg-4 col-md-12\">\r\n                    <div className=\"grand-totall\">\r\n                      <div className=\"title-wrap\">\r\n                        <h4 className=\"cart-bottom-title section-bg-gary-cart\">\r\n                          Total del carrito\r\n                        </h4>\r\n                      </div>\r\n                      <h5>\r\n                        Productos totales{\" \"}\r\n                        <span>\r\n                          {currency.currencySymbol + cartTotalPrice.toFixed(2)}\r\n                        </span>\r\n                      </h5>\r\n\r\n                      <h4 className=\"grand-totall-title\">\r\n                        Total{\" \"}\r\n                        <span>\r\n                          {currency.currencySymbol + cartTotalPrice.toFixed(2)}\r\n                        </span>\r\n                      </h4>\r\n                      <Link to={process.env.PUBLIC_URL + \"/checkout\"}>\r\n                        Proceder con compra\r\n                      </Link>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </Fragment>\r\n            ) : (\r\n              <div className=\"row\">\r\n                <div className=\"col-lg-12\">\r\n                  <div className=\"item-empty-area text-center\">\r\n                    <div className=\"item-empty-area__icon mb-30\">\r\n                      <i className=\"pe-7s-cart\"></i>\r\n                    </div>\r\n                    <div className=\"item-empty-area__text\">\r\n                      No tienes items en el carrito <br />{\" \"}\r\n                      <Link to={process.env.PUBLIC_URL + \"/shop\"}>\r\n                        Compra Ahora\r\n                      </Link>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </LayoutOne>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nCart.propTypes = {\r\n  addToCart: PropTypes.func,\r\n  cartItems: PropTypes.array,\r\n  currency: PropTypes.object,\r\n  decreaseQuantity: PropTypes.func,\r\n  location: PropTypes.object,\r\n  deleteAllFromCart: PropTypes.func,\r\n  deleteFromCart: PropTypes.func\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    cartItems: state.cartData,\r\n    currency: state.currencyData\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    addToCart: (item, addToast, quantityCount) => {\r\n      dispatch(addToCart(item, addToast, quantityCount));\r\n    },\r\n    decreaseQuantity: (item, addToast) => {\r\n      dispatch(decreaseQuantity(item, addToast));\r\n    },\r\n    deleteFromCart: (item, addToast) => {\r\n      dispatch(deleteFromCart(item, addToast));\r\n    },\r\n    deleteAllFromCart: addToast => {\r\n      dispatch(deleteAllFromCart(addToast));\r\n    }\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Cart);\r\n"],"sourceRoot":""}